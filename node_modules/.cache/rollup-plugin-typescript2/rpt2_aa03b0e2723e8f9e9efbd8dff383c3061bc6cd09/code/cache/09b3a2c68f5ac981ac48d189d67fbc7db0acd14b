{"code":"import { __awaiter, __generator, __spreadArray } from \"tslib\";\nimport { useState, useCallback } from \"react\";\nexport var useChat = function (_a) {\n    var apiKey = _a.apiKey, initialMessage = _a.initialMessage;\n    var _b = useState(initialMessage ? [{ text: initialMessage, isUser: false }] : []), messages = _b[0], setMessages = _b[1];\n    var _c = useState(\"\"), inputValue = _c[0], setInputValue = _c[1];\n    var _d = useState(false), isLoading = _d[0], setIsLoading = _d[1];\n    var _e = useState(null), error = _e[0], setError = _e[1];\n    var sendMessage = useCallback(function (message) { return __awaiter(void 0, void 0, void 0, function () {\n        var newUserMessage, aiResponseMessage;\n        return __generator(this, function (_a) {\n            if (!message.trim()) {\n                return [2 /*return*/];\n            }\n            newUserMessage = {\n                text: message,\n                isUser: true,\n                timestamp: new Date(),\n            };\n            setMessages(function (prevMessages) { return __spreadArray(__spreadArray([], prevMessages, true), [newUserMessage], false); });\n            setInputValue(\"\");\n            setIsLoading(true);\n            setError(null);\n            console.log(\"Сообщение отправлено:\", message, \"API Key:\", apiKey);\n            aiResponseMessage = {\n                text: \"Ответ от ИИ (заглушка)\",\n                isUser: false,\n                timestamp: new Date(),\n            };\n            setMessages(function (prevMessages) { return __spreadArray(__spreadArray([], prevMessages, true), [aiResponseMessage], false); });\n            setIsLoading(false);\n            return [2 /*return*/];\n        });\n    }); }, [apiKey]);\n    return {\n        messages: messages,\n        inputValue: inputValue,\n        isLoading: isLoading,\n        error: error,\n        setInputValue: setInputValue,\n        sendMessage: sendMessage,\n    };\n};\n","references":["/Users/andrew/www/doctalkie-react/node_modules/@types/react/index.d.ts","/Users/andrew/www/doctalkie-react/types/index.ts"],"dts":{"name":"/Users/andrew/www/doctalkie-react/node_modules/.cache/rollup-plugin-typescript2/placeholder/hooks/useChat.d.ts","writeByteOrderMark":false,"text":"import { ChatMessage } from \"../types\";\ninterface UseChatOptions {\n    apiKey: string;\n    initialMessage?: string;\n}\ninterface UseChatResult {\n    messages: ChatMessage[];\n    inputValue: string;\n    isLoading: boolean;\n    error: string | null;\n    setInputValue: (value: string) => void;\n    sendMessage: (message: string) => Promise<void>;\n}\nexport declare const useChat: ({ apiKey, initialMessage, }: UseChatOptions) => UseChatResult;\nexport {};\n"}}
